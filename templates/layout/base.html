<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Chat UI Mockup{% endblock %}</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            colors: {
              gray: {
                750: '#374151',
              }
            }
          }
        }
      }
    </script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:400,700&display=swap">
    <style>
      body { font-family: 'Inter', sans-serif; }
      .dark body { background: #18181b; color: #f3f4f6; }
      /* Custom transitions for panels */
      .panel-transition {
        transition: transform 0.3s ease-in-out;
      }
      .sidebar-open { transform: translateX(0); }
      .sidebar-closed { transform: translateX(-100%); }
      .project-files-open { transform: translateX(0); }
      .project-files-closed { transform: translateX(100%); }
      
      /* Toggle button styles */
      .sidebar-toggle-container {
        position: absolute;
        left: 0;
        top: 16px;
        width: 24px;
        height: 48px;
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: #1f2937; /* matches bg-gray-900 */
        border-top-right-radius: 6px;
        border-bottom-right-radius: 6px;
        border: 1px solid #374151;
        border-left: none;
        z-index: 30;
      }
      .project-toggle-container {
        position: absolute;
        right: 0;
        top: 16px;
        width: 24px;
        height: 48px;
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: #1f2937;
        border-top-left-radius: 6px;
        border-bottom-left-radius: 6px;
        border: 1px solid #374151;
        border-right: none;
        z-index: 30;
      }
      /* Overlay for mobile */
      .overlay {
        backdrop-filter: blur(2px);
        background-color: rgba(0, 0, 0, 0.5);
      }
    </style>
    {% block head %}{% endblock %}
</head>
<body class="bg-gray-100 dark:bg-gray-900 min-h-screen transition-colors duration-300">
    <!-- Full-width Header -->
    {% include "layout/_header.html" %}

    <!-- Mobile Overlay -->
    <div id="mobileOverlay" class="fixed inset-0 z-40 overlay hidden"></div>

    <!-- Main Layout Container -->
    <div class="pt-16 min-h-screen flex">
        <!-- Sidebar Left-->
        {% include "layout/_sidebar_left.html" %}

        <!-- Main Content Area -->
        <main id="mainContent" class="flex-1 px-4 pb-24 min-h-screen">
            {% block content %}{% endblock %}
        </main>

        <!-- Sidebar Right -->
        {% include "layout/_sidebar_right.html" %}    
    </div>

    {% include "layout/_footer.html" %}

    <script src="/static/js/layout.js"></script>
    <script src="/static/js/chatui.js"></script>
    
    {% block scripts %}{% endblock %}
</body>
</html>